Caso voce tenha adicionado os arquivos com git add e depois
dado commit mas percebeu que nao fez corretamente voce
pode usar esse comandos:

VocÃª pode voltar o commit e manter as alteraÃ§Ãµes no seu 
diretÃ³rio de trabalho (Ãºtil se quiser revisar):
- git reset --soft HEAD~1

Para remover os arquivos da Ã¡rea de staging (git add):
git restore --staged srcs/

ğŸ“ Estrutura Inicial
Title: Criar Estrutura de DiretÃ³rios do Projeto
Description:

markdown
Copy
Edit
- Criar a seguinte Ã¡rvore de diretÃ³rios:
  - /srcs/
  - /srcs/requirements/
    - mariadb/
    - nginx/
    - wordpress/
    - tools/
    - bonus/
- Criar `Makefile` na raiz.
- Criar `docker-compose.yml` dentro de `srcs/`.
- Criar arquivo `.env` dentro de `srcs/`.
- Atualizar `.gitignore` para ignorar `.env`.

ğŸ³ Docker Compose
Title: Configurar Docker Compose (Redes e Volumes)
Description:
- Definir uma network customizada no docker-compose.yml.
- Criar volume para persistÃªncia dos dados do MariaDB.
- Criar volume para persistÃªncia dos arquivos do WordPress.
- Garantir que containers usam apenas a network especificada.
- Definir polÃ­ticas de restart: always.

ğŸ›¢ï¸ ServiÃ§o MariaDB
Title: Implementar ServiÃ§o MariaDB

O Maria db e um sistema de gerenciamento de banco de dados relacional ()

Description:
- Criar Dockerfile para MariaDB baseado em Alpine ou Debian.
- Instalar MariaDB Server.
- Configurar usuÃ¡rio administrador e usuÃ¡rio normal.
- Nenhum dos usernames deve conter "admin" ou variaÃ§Ãµes.
- Usar scripts de inicializaÃ§Ã£o para criaÃ§Ã£o do banco.
- Garantir que o processo rode como PID 1 (sem tail -f, sleep, etc).
- Utilizar variÃ¡veis de ambiente para configuraÃ§Ãµes sensÃ­veis.

âœ… ExplicaÃ§Ã£o completa do porquÃª do MariaDB neste projeto:
ğŸ“Œ O que Ã© o MariaDB?
MariaDB Ã© um sistema de gerenciamento de banco de dados relacional, open-source e compatÃ­vel com MySQL. Ele serve como backend para aplicaÃ§Ãµes como o WordPress armazenarem dados de forma estruturada e persistente.

ğŸ¯ Por que estamos usando MariaDB nesse projeto Inception?
Porque o WordPress â€” a aplicaÃ§Ã£o principal deste projeto â€” precisa de um banco de dados para:

Armazenar usuÃ¡rios.
Postagens, comentÃ¡rios, pÃ¡ginas.
Metadados (como configuraÃ§Ãµes de plugins, temas etc).

â¡ï¸ O MariaDB entra como o coraÃ§Ã£o de persistÃªncia do WordPress, mantendo tudo que nÃ£o Ã© arquivo.
ğŸ§  O que vocÃª deve entender tecnicamente:
Conceito	                      ExplicaÃ§Ã£o
Container isolado	              O MariaDB roda isolado, em um container dedicado, separado do WordPress.
ComunicaÃ§Ã£o via rede docker	    Os containers falam entre si por uma docker network (no caso, inception).
Volume	                        Os dados da base ficam persistidos fora do container (ex: /home/login/data/mariadb).
VariÃ¡veis de ambiente (.env)	  SÃ£o usadas para passar user, password, db name etc., sem expor no Dockerfile.
Scripts de inicializaÃ§Ã£o	      SÃ£o arquivos .sh ou .sql que criam usuÃ¡rios, banco etc., na primeira vez.
UsuÃ¡rio administrador         	Deve ser criado com nome que nÃ£o contenha "admin" ou "administrator", conforme exigÃªncia.
SeguranÃ§a	                      Sem senhas hardcoded. Nada de usar root sem necessidade.

âœ… 1. Checklist de ValidaÃ§Ã£o da Task "Implementar ServiÃ§o MariaDB"

ğŸ“‹ **Checklist TÃ©cnico e Funcional**

### ğŸ”§ Estrutura e ConfiguraÃ§Ã£o
- Existe um diretÃ³rio `requirements/mariadb` com:
  - `Dockerfile`
  - `conf/my.cnf`
  - `tools/dbscript.sh`
- Existe um `.env` na pasta `srcs/` com as seguintes variÃ¡veis:
  - `MYSQL_ROOT_PASSWORD`
  - `MYSQL_USER`
  - `MYSQL_PASSWORD`
  - `MYSQL_DATABASE` (opcional, mas recomendado)

### ğŸ³ Dockerfile
- A imagem base Ã© Alpine ou Debian.
- Instala `mariadb-server` corretamente.
- Copia `my.cnf` para o local correto.
- Copia e executa `dbscript.sh`.
- ExpÃµe a porta `3306`.
- Usa `ENTRYPOINT` com `exec` e sem hacks como `tail -f` ou `sleep`.

### ğŸ”’ SeguranÃ§a e Conformidade
- NÃ£o hÃ¡ senha hardcoded nos arquivos `.sh` ou `Dockerfile`.
- Senhas e configuraÃ§Ãµes sensÃ­veis estÃ£o no `.env`.
- Nenhum nome de usuÃ¡rio inclui â€œadminâ€ ou variaÃ§Ãµes proibidas.
- O processo principal roda como PID 1 com `exec`.

### ğŸ“¦ Docker Compose (opcional para este passo, mas recomendÃ¡vel)
- O `docker-compose.yml` estÃ¡ pronto ou com o serviÃ§o `mariadb` corretamente configurado para testes.
- Volume para persistÃªncia de dados estÃ¡ definido (`/var/lib/mysql`).
- O container usa a rede `inception` e o nome `mariadb`.

ğŸ§ª 2. Como Testar se EstÃ¡ Tudo Certo
ğŸ”Œ **Passos para Testar MariaDB em Container**

â–¶ï¸ Executar o Build (caso ainda nÃ£o tenha `docker-compose`)
cd srcs
docker build -t mariadb_test ./requirements/mariadb
docker run --rm -it --env-file .env mariadb_test

Isso serve para testar se o container inicializa corretamente e o banco Ã© criado.

â–¶ï¸ Se jÃ¡ estiver com docker-compose.yml, use:
docker-compose up --build mariadb

ğŸ’» Conecte-se ao banco dentro do container:
docker exec -it mariadb mariadb -u $MYSQL_USER -p
# Digite a senha definida em .env (MYSQL_PASSWORD)

ğŸ§¾ Execute os comandos SQL para verificar:
SHOW DATABASES;
-- Deve mostrar "WordPress"

SHOW GRANTS FOR 'rog_dev'@'%';
-- Deve mostrar os privilÃ©gios do usuÃ¡rio

ğŸ” Teste de acesso via root (se necessÃ¡rio):
docker exec -it mariadb mariadb -u root -p$MYSQL_ROOT_PASSWORD

Instalar MariaDB Server. #17
Configurar usuÃ¡rio administrador e usuÃ¡rio normal. #18

Nenhum dos usernames deve conter "admin" ou variaÃ§Ãµes. #19

Usar scripts de inicializaÃ§Ã£o para criaÃ§Ã£o do banco. #20
Garantir que o processo rode como PID 1 (sem tail -f, sleep, etc). #21
Utilizar variÃ¡veis de ambiente para configuraÃ§Ãµes sensÃ­veis. #22











ğŸ§° ServiÃ§o WordPress + PHP-FPM
Title: Implementar ServiÃ§o WordPress + PHP-FPM
Description:
- Criar Dockerfile baseado em Alpine ou Debian.
- Instalar php, php-fpm e extensÃµes necessÃ¡rias (php-mysql, etc).
- Instalar WordPress manualmente na imagem.
- Configurar php-fpm corretamente para servir o WordPress.
- WordPress deve apontar para o container MariaDB.
- Utilizar variÃ¡veis de ambiente para configuraÃ§Ã£o de acesso ao banco.
- Persistir os arquivos de WordPress no volume correto.

ğŸŒ ServiÃ§o NGINX
Title: Implementar ServiÃ§o NGINX com HTTPS (TLSv1.2 ou TLSv1.3)
Description:
- Criar Dockerfile para Nginx baseado em Alpine ou Debian.
- Instalar e configurar o Nginx.
- Criar certificados SSL/TLS self-signed.
- Configurar Nginx para escutar apenas na porta 443 com HTTPS.
- Permitir apenas TLSv1.2 ou TLSv1.3 no server.
- Redirecionar requisiÃ§Ãµes para o PHP-FPM de WordPress (FastCGI).
- Utilizar variÃ¡veis de ambiente para certs paths.

ğŸ”’ SeguranÃ§a Geral
Title: Implementar SeguranÃ§a: Portas, Restart e Variables
Description:
- Garantir que sÃ³ o Nginx expÃµe portas (443).
- Definir polÃ­tica de restart: always nos serviÃ§os.
- Nenhuma senha/usuÃ¡rio no cÃ³digo, usar somente variÃ¡veis de ambiente.
- Armazenar todas as credenciais no `.env`.
- Adicionar `.env` ao `.gitignore`.


âš™ï¸ Makefile
Title: Criar Makefile para Automatizar o Build/Up/Down
Description:
- Implementar Makefile com targets:
  - make â†’ docker-compose up --build -d
  - make down â†’ docker-compose down
  - make fclean â†’ docker system prune -af
- O Makefile deve estar na raiz do projeto.
- Usar variÃ¡veis e organizaÃ§Ã£o clara no Makefile.

ğŸ§ª Testes Finais
Title: Testar e Validar a Stack Completa
Description:
- Testar se o domÃ­nio login.42.fr acessa corretamente via HTTPS.
- Verificar se o WordPress conecta ao MariaDB corretamente.
- Testar persistÃªncia de dados em volumes apÃ³s reiniciar containers.
- Garantir que containers reiniciam automaticamente apÃ³s crash.
- Validar TLSv1.2/1.3 no navegador.